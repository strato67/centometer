name: Tests

on: push

jobs:

  stock_search_test:
    
    name: test stock search lambda function
    runs-on: ubuntu-latest
    defaults:
        run:
          working-directory: ./stock-search
    steps:
        - name: Checkout source code
          uses: actions/checkout@v3

        - name: Install Node.js
          uses: actions/setup-node@v3
          with:
            node-version: "20.x"

        - name: Install npm dependencies
          run: npm ci

        - name: Run tests
          run: npm test
